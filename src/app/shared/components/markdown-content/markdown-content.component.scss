.markdown-content {
  position: relative;
}

::ng-deep .markdown-content .code-block-container {
  position: relative;
  margin: 1.5rem 0;
}

::ng-deep .markdown-content .code-copy-button {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: rgba(0, 0, 0, 0.8);
  color: #cbd5e0;
  border: 1px solid #4a5568;
  border-radius: 6px;
  padding: 6px 8px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 4px;
  z-index: 10;
  
  &:hover:not(.copied) {
    background: rgba(102, 126, 234, 0.8);
    border-color: #667eea;
    color: white;
  }
  
  &.copied {
    background: rgba(72, 187, 120, 0.8);
    border-color: #48bb78;
    color: white;
    cursor: default;
  }
}

.markdown-content :deep(.code-copy-icon) {
  font-size: 11px;
}

     // Highlight.js Light Theme
 ::ng-deep .markdown-content .hljs {
   background: #f8f9fa !important;
   color: #383a42 !important;
 }
 
 ::ng-deep .markdown-content .hljs-comment,
 ::ng-deep .markdown-content .hljs-quote {
   color: #a0a1a7 !important;
   font-style: italic;
 }
 
 ::ng-deep .markdown-content .hljs-keyword,
 ::ng-deep .markdown-content .hljs-selector-tag,
 ::ng-deep .markdown-content .hljs-addition {
   color: #a626a4 !important;
 }
 
 ::ng-deep .markdown-content .hljs-number,
 ::ng-deep .markdown-content .hljs-string,
 ::ng-deep .markdown-content .hljs-meta .hljs-meta-string,
 ::ng-deep .markdown-content .hljs-literal,
 ::ng-deep .markdown-content .hljs-doctag,
 ::ng-deep .markdown-content .hljs-regexp {
   color: #50a14f !important;
 }
 
 ::ng-deep .markdown-content .hljs-title,
 ::ng-deep .markdown-content .hljs-section,
 ::ng-deep .markdown-content .hljs-name,
 ::ng-deep .markdown-content .hljs-selector-id,
 ::ng-deep .markdown-content .hljs-selector-class {
   color: #c18401 !important;
 }
 
 ::ng-deep .markdown-content .hljs-attribute,
 ::ng-deep .markdown-content .hljs-attr,
 ::ng-deep .markdown-content .hljs-variable,
 ::ng-deep .markdown-content .hljs-template-variable,
 ::ng-deep .markdown-content .hljs-class .hljs-title,
 ::ng-deep .markdown-content .hljs-type {
   color: #986801 !important;
 }
 
 ::ng-deep .markdown-content .hljs-symbol,
 ::ng-deep .markdown-content .hljs-bullet,
 ::ng-deep .markdown-content .hljs-subst,
 ::ng-deep .markdown-content .hljs-meta,
 ::ng-deep .markdown-content .hljs-meta .hljs-keyword,
 ::ng-deep .markdown-content .hljs-selector-attr,
 ::ng-deep .markdown-content .hljs-selector-pseudo,
 ::ng-deep .markdown-content .hljs-link {
   color: #4078f2 !important;
 }
 
 ::ng-deep .markdown-content .hljs-built_in,
 ::ng-deep .markdown-content .hljs-deletion {
   color: #e45649 !important;
 }
 
 ::ng-deep .markdown-content .hljs-formula {
   background: #eee8d5 !important;
 }
 
 ::ng-deep .markdown-content .hljs-emphasis {
   font-style: italic;
 }
 
 ::ng-deep .markdown-content .hljs-strong {
   font-weight: bold;
 }

 // Dark mode styles
 :host-context(.dark-mode) {
   .markdown-content :deep(.code-copy-button) {
     background: rgba(0, 0, 0, 0.9);
     color: #e2e8f0;
     border-color: #4a5568;
     
     &:hover:not(.copied) {
       background: rgba(102, 126, 234, 0.9);
       border-color: #667eea;
     }
     
     &.copied {
       background: rgba(104, 211, 145, 0.9);
       border-color: #68d391;
     }
   }
   
   // Highlight.js Dark Theme
   ::ng-deep .markdown-content .hljs {
     background: #282c34 !important;
     color: #abb2bf !important;
   }
   
   ::ng-deep .markdown-content .hljs-comment,
   ::ng-deep .markdown-content .hljs-quote {
     color: #5c6370 !important;
     font-style: italic;
   }
   
   ::ng-deep .markdown-content .hljs-keyword,
   ::ng-deep .markdown-content .hljs-selector-tag,
   ::ng-deep .markdown-content .hljs-addition {
     color: #c678dd !important;
   }
   
   ::ng-deep .markdown-content .hljs-number,
   ::ng-deep .markdown-content .hljs-string,
   ::ng-deep .markdown-content .hljs-meta .hljs-meta-string,
   ::ng-deep .markdown-content .hljs-literal,
   ::ng-deep .markdown-content .hljs-doctag,
   ::ng-deep .markdown-content .hljs-regexp {
     color: #98c379 !important;
   }
   
   ::ng-deep .markdown-content .hljs-title,
   ::ng-deep .markdown-content .hljs-section,
   ::ng-deep .markdown-content .hljs-name,
   ::ng-deep .markdown-content .hljs-selector-id,
   ::ng-deep .markdown-content .hljs-selector-class {
     color: #e06c75 !important;
   }
   
   ::ng-deep .markdown-content .hljs-attribute,
   ::ng-deep .markdown-content .hljs-attr,
   ::ng-deep .markdown-content .hljs-variable,
   ::ng-deep .markdown-content .hljs-template-variable,
   ::ng-deep .markdown-content .hljs-class .hljs-title,
   ::ng-deep .markdown-content .hljs-type {
     color: #d19a66 !important;
   }
   
   ::ng-deep .markdown-content .hljs-symbol,
   ::ng-deep .markdown-content .hljs-bullet,
   ::ng-deep .markdown-content .hljs-subst,
   ::ng-deep .markdown-content .hljs-meta,
   ::ng-deep .markdown-content .hljs-meta .hljs-keyword,
   ::ng-deep .markdown-content .hljs-selector-attr,
   ::ng-deep .markdown-content .hljs-selector-pseudo,
   ::ng-deep .markdown-content .hljs-link {
     color: #61afef !important;
   }
   
   ::ng-deep .markdown-content .hljs-built_in,
   ::ng-deep .markdown-content .hljs-deletion {
     color: #e06c75 !important;
   }
   
   ::ng-deep .markdown-content .hljs-formula {
     background: #3e4451 !important;
   }
   
   ::ng-deep .markdown-content .hljs-emphasis {
     font-style: italic;
   }
   
   ::ng-deep .markdown-content .hljs-strong {
     font-weight: bold;
   }
 }