@import '../../../../styles/variables';

.markdown-content {
  position: relative;
}

// Routable headings styling
::ng-deep .markdown-content .routable-heading {
  position: relative;
  transition: $routable-heading-transition;
  cursor: pointer;

  &:hover {
    color: $routable-heading-hover-color;
    text-decoration: underline;
  }

  &:active {
    color: $routable-heading-active-color;
  }
}

::ng-deep .markdown-content .code-block-container {
  position: relative;
  margin: $code-block-margin;
}

::ng-deep .markdown-content .code-copy-button {
  position: absolute;
  top: $code-copy-button-position-top;
  right: $code-copy-button-position-right;
  background: $code-copy-button-bg-light;
  color: $code-copy-button-text-light;
  border: 1px solid $code-copy-button-border-light;
  border-radius: $border-radius-md;
  padding: $code-copy-button-padding;
  font-size: $code-copy-button-font-size;
  cursor: pointer;
  transition: $routable-heading-transition;
  display: flex;
  align-items: center;
  gap: $code-copy-button-gap;
  z-index: $code-block-z-index;

  &:hover:not(.copied) {
    background: $code-copy-button-bg-light-hover;
    border-color: $code-copy-button-border-hover;
    color: $color-white;
  }

  &.copied {
    background: $code-copy-button-success-bg;
    border-color: $code-copy-button-success-border;
    color: $color-white;
    cursor: default;
  }
}

.markdown-content :deep(.code-copy-icon) {
  font-size: $code-copy-button-icon-size;
}

// Highlight.js Light Theme
::ng-deep .markdown-content .hljs {
  background: $hljs-light-bg !important;
  color: $hljs-light-text !important;
}

::ng-deep .markdown-content .hljs-comment,
::ng-deep .markdown-content .hljs-quote {
  color: $hljs-light-comment !important;
  font-style: italic;
}

::ng-deep .markdown-content .hljs-keyword,
::ng-deep .markdown-content .hljs-selector-tag,
::ng-deep .markdown-content .hljs-addition {
  color: $hljs-light-keyword !important;
}

::ng-deep .markdown-content .hljs-number,
::ng-deep .markdown-content .hljs-string,
::ng-deep .markdown-content .hljs-meta .hljs-meta-string,
::ng-deep .markdown-content .hljs-literal,
::ng-deep .markdown-content .hljs-doctag,
::ng-deep .markdown-content .hljs-regexp {
  color: $hljs-light-string !important;
}

::ng-deep .markdown-content .hljs-title,
::ng-deep .markdown-content .hljs-section,
::ng-deep .markdown-content .hljs-name,
::ng-deep .markdown-content .hljs-selector-id,
::ng-deep .markdown-content .hljs-selector-class {
  color: $hljs-light-title !important;
}

::ng-deep .markdown-content .hljs-attribute,
::ng-deep .markdown-content .hljs-attr,
::ng-deep .markdown-content .hljs-variable,
::ng-deep .markdown-content .hljs-template-variable,
::ng-deep .markdown-content .hljs-class .hljs-title,
::ng-deep .markdown-content .hljs-type {
  color: $hljs-light-attribute !important;
}

::ng-deep .markdown-content .hljs-symbol,
::ng-deep .markdown-content .hljs-bullet,
::ng-deep .markdown-content .hljs-subst,
::ng-deep .markdown-content .hljs-meta,
::ng-deep .markdown-content .hljs-meta .hljs-keyword,
::ng-deep .markdown-content .hljs-selector-attr,
::ng-deep .markdown-content .hljs-selector-pseudo,
::ng-deep .markdown-content .hljs-link {
  color: $hljs-light-symbol !important;
}

::ng-deep .markdown-content .hljs-built_in,
::ng-deep .markdown-content .hljs-deletion {
  color: $hljs-light-builtin !important;
}

::ng-deep .markdown-content .hljs-formula {
  background: $hljs-light-formula-bg !important;
}

::ng-deep .markdown-content .hljs-emphasis {
  font-style: italic;
}

::ng-deep .markdown-content .hljs-strong {
  font-weight: bold;
}

// Dark mode styles
:host-context(.dark-mode) {
  // Routable headings dark mode
  ::ng-deep .markdown-content .routable-heading {
    &:hover {
      color: $routable-heading-hover-color;
      text-decoration: underline;
    }

    &:active {
      color: $routable-heading-active-color-dark;
    }
  }

  .markdown-content :deep(.code-copy-button) {
    background: $code-copy-button-bg-dark;
    color: $code-copy-button-text-dark;
    border-color: $code-copy-button-border-light;

    &:hover:not(.copied) {
      background: $code-copy-button-bg-dark-hover;
      border-color: $code-copy-button-border-hover;
    }

    &.copied {
      background: $code-copy-button-success-bg-dark;
      border-color: $code-copy-button-success-border-dark;
    }
  }

  // Highlight.js Dark Theme
  ::ng-deep .markdown-content .hljs {
    background: $hljs-dark-bg !important;
    color: $hljs-dark-text !important;
  }

  ::ng-deep .markdown-content .hljs-comment,
  ::ng-deep .markdown-content .hljs-quote {
    color: $hljs-dark-comment !important;
    font-style: italic;
  }

  ::ng-deep .markdown-content .hljs-keyword,
  ::ng-deep .markdown-content .hljs-selector-tag,
  ::ng-deep .markdown-content .hljs-addition {
    color: $hljs-dark-keyword !important;
  }

  ::ng-deep .markdown-content .hljs-number,
  ::ng-deep .markdown-content .hljs-string,
  ::ng-deep .markdown-content .hljs-meta .hljs-meta-string,
  ::ng-deep .markdown-content .hljs-literal,
  ::ng-deep .markdown-content .hljs-doctag,
  ::ng-deep .markdown-content .hljs-regexp {
    color: $hljs-dark-string !important;
  }

  ::ng-deep .markdown-content .hljs-title,
  ::ng-deep .markdown-content .hljs-section,
  ::ng-deep .markdown-content .hljs-name,
  ::ng-deep .markdown-content .hljs-selector-id,
  ::ng-deep .markdown-content .hljs-selector-class {
    color: $hljs-dark-title !important;
  }

  ::ng-deep .markdown-content .hljs-attribute,
  ::ng-deep .markdown-content .hljs-attr,
  ::ng-deep .markdown-content .hljs-variable,
  ::ng-deep .markdown-content .hljs-template-variable,
  ::ng-deep .markdown-content .hljs-class .hljs-title,
  ::ng-deep .markdown-content .hljs-type {
    color: $hljs-dark-attribute !important;
  }

  ::ng-deep .markdown-content .hljs-symbol,
  ::ng-deep .markdown-content .hljs-bullet,
  ::ng-deep .markdown-content .hljs-subst,
  ::ng-deep .markdown-content .hljs-meta,
  ::ng-deep .markdown-content .hljs-meta .hljs-keyword,
  ::ng-deep .markdown-content .hljs-selector-attr,
  ::ng-deep .markdown-content .hljs-selector-pseudo,
  ::ng-deep .markdown-content .hljs-link {
    color: $hljs-dark-symbol !important;
  }

  ::ng-deep .markdown-content .hljs-built_in,
  ::ng-deep .markdown-content .hljs-deletion {
    color: $hljs-dark-builtin !important;
  }

  ::ng-deep .markdown-content .hljs-formula {
    background: $hljs-dark-formula-bg !important;
  }

  ::ng-deep .markdown-content .hljs-emphasis {
    font-style: italic;
  }

  ::ng-deep .markdown-content .hljs-strong {
    font-weight: bold;
  }
}
